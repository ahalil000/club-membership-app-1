{"version":3,"sources":["member-detail-edit.component.ts"],"names":["MemberDetailEditComponent","memberService","router","activatedRoute","this","prototype","ngOnInit","_this","id","snapshot","params","console","log","get","subscribe","item","member_1","Member","Date","navigate","onInsert","add","data","ID","error","onUpdate","update","onDelete","delete","onBack","onItemDetailView","__decorate","core_1","Component","selector","template","styles","exports_1"],"mappings":"ohCAwEAA,0BAAA,WAGI,QAAAA,2BAAoBC,cACRC,OACAC,gBAFQC,KAAAH,cAAAA,cACRG,KAAAF,OAAAA,OACAE,KAAAD,eAAAA,eA6DhB,MA1DIH,2BAAAK,UAAAC,SAAA,WAAA,GAAAC,OAAAH,KACMI,IAAMJ,KAAKD,eAAeM,SAASC,OAAW,EAClDC,SAAQC,IAAI,kEAAoEJ,IAC1EA,GACAJ,KAAKH,cAAcY,IAAIL,IAAIM,UACvB,SAAAC,MAAQ,MAAAR,OAAKQ,KAAOA,OAGZ,IAAPP,IACLG,QAAQC,IAAI,iCACdR,KAAKW,KAAO,GAAIC,UAAAC,OAAO,EAAG,YAAa,YAAa,YAAa,YAAa,GAAIC,MAAQ,eAGxFP,QAAQC,IAAI,uCACZR,KAAKF,OAAOiB,UAAU,OAI9BnB,0BAAAK,UAAAe,SAAA,SAASL,MAAT,GAAAR,OAAAH,IACIA,MAAKH,cAAcoB,IAAIN,MAAMD,UACzB,SAACQ,MACGf,MAAKQ,KAAOO,KACZX,QAAQC,IAAI,QAAUL,MAAKQ,KAAKQ,GAAK,oBACrChB,MAAKL,OAAOiB,UAAU,MAE1B,SAACK,OAAU,MAAAb,SAAQC,IAAIY,UAI/BxB,0BAAAK,UAAAoB,SAAA,SAASV,MAAT,GAAAR,OAAAH,IACIA,MAAKH,cAAcyB,OAAOX,MAAMD,UAC5B,SAACQ,MACGf,MAAKQ,KAAOO,KACZX,QAAQC,IAAI,QAAUL,MAAKQ,KAAKQ,GAAK,sBACrChB,MAAKL,OAAOiB,UAAU,qBAAsBZ,MAAKQ,KAAKQ,MAE1D,SAACC,OAAU,MAAAb,SAAQC,IAAIY,UAI/BxB,0BAAAK,UAAAsB,SAAA,SAASZ,MAAT,GAAAR,OAAAH,KACQI,GAAKO,KAAKQ,EACdnB,MAAKH,cAAc2B,OAAOpB,IAAIM,UAC1B,SAACQ,MACGX,QAAQC,IAAI,QAAUJ,GAAK,sBAC3BD,MAAKL,OAAOiB,UAAU,MAE1B,SAACK,OAAU,MAAAb,SAAQC,IAAIY,UAI/BxB,0BAAAK,UAAAwB,OAAA,WACIzB,KAAKF,OAAOiB,UAAU,MAG1BnB,0BAAAK,UAAAyB,iBAAA,SAAiBf,MACbX,KAAKF,OAAOiB,UAAU,qBAAsBJ,KAAKQ,MAnIzDvB,0BAAA+B,YAACC,OAAAC,WACGC,SAAU,qBACVC,SAAU,qoHA8DVC,oJAGJC,UAAA,4BAAArC","file":"member-detail-edit.component.js","sourcesContent":["import {Component, OnInit} from \"@angular/core\";\nimport {Router, ActivatedRoute} from \"@angular/router\";\nimport {Member} from \"./member\";\nimport {MemberService} from \"./member.service\";\n\n@Component({\n    selector: \"member-detail-edit\",\n    template: `\n<div *ngIf=\"item\">\n    <h2>\n        <a href=\"javascript:void(0)\" (click)=\"onBack()\">\n            &laquo; Back to Home\n        </a>\n    </h2>\n    <div class=\"item-container\">\n        <ul class=\"nav nav-tabs\">\n            <li role=\"presentation\" class=\"active\">\n                <a href=\"javascript:void(0)\">Edit</a>\n            </li>\n            <li role=\"presentation\" *ngIf=\"item.Id != 0\">\n                <a href=\"javascript:void(0)\" (click)=\"onItemDetailView(item)\">View</a>\n            </li>\n        </ul>\n        <div class=\"panel panel-default\">\n            <div class=\"panel-body\">\n                <form class=\"item-detail-edit\" #thisForm=\"ngForm\">\n                    <h3>\n                        Edit Member Details\n                    </h3>\n                    <div class=\"form-group\">\n                        <label for=\"input-firstname\">First Name</label>\n                        <input id=\"input-firstname\" name=\"input-firstname\" type=\"text\" class=\"form-control\" [(ngModel)]=\"item.FirstName\" placeholder=\"Insert the first name...\" required />\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"input-lastname\">Last Name</label>\n                        <input id=\"input-lastname\" name=\"input-lastname\" type=\"text\" class=\"form-control\" [(ngModel)]=\"item.LastName\" placeholder=\"Insert the last name...\" required />\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"input-emailaddress\">Email Address</label>\n                        <input id=\"input-emailaddress\" name=\"input-emailaddress\" type=\"text\" class=\"form-control\" [(ngModel)]=\"item.EmailAddress\" placeholder=\"Insert the email address...\" required />\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"input-contactnumber\">Contact Number</label>\n                        <input id=\"input-contactnumber\" name=\"input-contactnumber\" type=\"text\" class=\"form-control\" [(ngModel)]=\"item.ContactNumber\" placeholder=\"Insert the contact number...\" required />\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"input-dateofbirth\">Date of Birth</label>\n                        <input id=\"input-dateofbirth\" name=\"input-dateofbirth\" type=\"text\" class=\"form-control\" [(ngModel)]=\"item.DateOfBirth\" placeholder=\"Insert the date of birth...\" required />\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"input-accountstatus\">Account Status</label>\n                        <input id=\"input-accountstatus\" name=\"input-accountstatus\" type=\"text\" class=\"form-control\" [(ngModel)]=\"item.AccountStatus\" placeholder=\"Insert the account status...\" required />\n                    </div>\n\n                    <div *ngIf=\"item.ID == 0\" class=\"commands insert\">\n                        <input type=\"button\" class=\"btn btn-primary\" value=\"Save\" (click)=\"onInsert(item)\" />\n                        <input type=\"button\" class=\"btn btn-default\" value=\"Cancel\" (click)=\"onBack()\" />\n                    </div>\n                    <div *ngIf=\"item.ID != 0\" class=\"commands update\">\n                        <input type=\"button\" class=\"btn btn-primary\" value=\"Update\" (click)=\"onUpdate(item)\" />\n                        <input type=\"button\" class=\"btn btn-danger\" value=\"Delete\" (click)=\"onDelete(item)\" />\n                        <input type=\"button\" class=\"btn btn-default\" value=\"Cancel\" (click)=\"onItemDetailView(item)\" />\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n    `,\n    styles: []\n})\n\nexport class MemberDetailEditComponent {\n    item: Member;\n\n    constructor(private memberService: MemberService,\n        private router: Router,\n        private activatedRoute: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n      var id = +this.activatedRoute.snapshot.params[\"id\"];\n      console.log(\"MemberDetailEditComponent instantiated with the following id : \" + id);\n        if (id) {\n            this.memberService.get(id).subscribe(\n                item => this.item = item\n            );\n        }\n        else if (id === 0) {\n            console.log(\"id is 0: adding a new item...\");\n          this.item = new Member(0, \"New Value\", \"New Value\", \"New Value\", \"New Value\", new Date(), \"New Value\");\n        }\n        else {\n            console.log(\"Invalid id: routing back to home...\");\n            this.router.navigate([\"\"]);\n        }\n    }\n\n    onInsert(item: Member) {\n        this.memberService.add(item).subscribe(\n            (data) => {\n                this.item = data;\n                console.log(\"Item \" + this.item.ID + \" has been added.\");\n                this.router.navigate([\"\"]);\n            },\n            (error) => console.log(error)\n        );\n    }\n\n    onUpdate(item: Member) {\n        this.memberService.update(item).subscribe(\n            (data) => {\n                this.item = data;\n                console.log(\"Item \" + this.item.ID + \" has been updated.\");\n                this.router.navigate([\"member-detail-view\", this.item.ID]);\n            },\n            (error) => console.log(error)\n        );\n    }\n\n    onDelete(item: Member) {\n        var id = item.ID;\n        this.memberService.delete(id).subscribe(\n            (data) => {\n                console.log(\"Item \" + id + \" has been deleted.\");\n                this.router.navigate([\"\"]);\n            },\n            (error) => console.log(error)\n        );\n    }\n\n    onBack() {\n        this.router.navigate([\"\"]);\n    }\n\n    onItemDetailView(item: Member) {\n        this.router.navigate([\"member-detail-view\", item.ID]);\n    }\n}\n"]}